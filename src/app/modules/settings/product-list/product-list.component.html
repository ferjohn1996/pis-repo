<div id="view-main">
    <!-- Header -->
    <div 
        class="header" 
        fxLayout="row" 
        fxLayoutAlign="start center" 
        fxLayout.gt-sm="row"
        fxLayoutAlign.gt-sm="space-between"
    >
        <div 
            fxLayout="row" 
            fxLayoutAlign="start center"
            fxFlex="70"
        >
            <span class="header-title"> Product Information Lists </span>
        </div>

        <div 
            fxLayout="row" 
            fxLayoutAlign="end center"
            fxFlex="30"
        >
            <div 
                class="search-wrapper"
                fxLayout="row"
                fxLayoutAlign="start"
                fxFlex="80"
            >
                <mat-form-field class="search-form" fxFlex="100">
                    <input 
                        matInput 
                        placeholder="Search Product"
                        (input)="applyFilter($event.target.value)"
                    />
                    <mat-icon matSuffix class="secondary-text">search</mat-icon>
                </mat-form-field>
            </div>
            <div
                fxLayout="row"
                fxLayoutAlign="end center"
                fxFlex="20"
            >
                <button 
                    mat-raised-button 
                    (click)="openAddProductDialog()"
                >
                    <mat-icon>playlist_add</mat-icon>
                    <span class="btn-label" fxHide fxShow.gt-sm> Add </span>
                </button>
            </div>
        </div>
    </div>

    <!-- Body -->
    <div class="center">

        <!-- CONTENT BODY -->
        <div class="content-body mat-elevation-z8">
            <div class="content-table-container">
                <!-- <mat-progress-bar
                    *ngIf="isLoadingResults"
                    mode="indeterminate"
                ></mat-progress-bar> -->
                <mat-table 
                    [dataSource]="dataSource"
                    matSort
                    matSortActive="columnName" 
                    matSortDirection="asc"
                >
                    <!-- ID Column -->
                    <ng-container matColumnDef="id">
                        <mat-header-cell *matHeaderCellDef mat-sort-header> NO. </mat-header-cell>
                          <mat-cell *matCellDef="let element"> {{element.id}} </mat-cell>
                    </ng-container>
                  
                    <!-- Code Column -->
                    <ng-container matColumnDef="code">
                        <mat-header-cell *matHeaderCellDef mat-sort-header> PRODUCT CODE </mat-header-cell>
                        <mat-cell *matCellDef="let element"> {{element.code}} </mat-cell>
                    </ng-container>
                  
                    <!-- Description Column -->
                    <ng-container matColumnDef="description">
                        <mat-header-cell *matHeaderCellDef mat-sort-header> DESCRIPTION </mat-header-cell>
                        <mat-cell *matCellDef="let element"> {{element.description}} </mat-cell>
                    </ng-container>

                    <!-- CREATED DATETIME Column -->
                    <ng-container matColumnDef="createdDateTime">
                        <mat-header-cell *matHeaderCellDef mat-sort-header>DATE CREATED
                        </mat-header-cell>
                        <mat-cell *matCellDef="let employee">
                            {{ employee.createdDateTime | date:'short' }}
                        </mat-cell>
                    </ng-container>
      
                    <!-- Actions Column -->
                    <ng-container matColumnDef="actions">
                        <mat-header-cell *matHeaderCellDef> </mat-header-cell>
                        <mat-cell
                            *matCellDef="let element"
                            (click)="$event.stopPropagation()"
                        >
                            <div
                                fxFlex="row"
                                fxLayoutAlign="end center"
                            >
                                <button
                                    mat-icon-button
                                    (click)="openEditProductDialog(element)"
                                >
                                    <mat-icon class="secondary-text">edit</mat-icon>
                                </button>

                                <button
                                    mat-icon-button
                                    (click)="deleteProductClass(element.id)"
                                >
                                    <mat-icon class="secondary-text">delete_forever</mat-icon>
                                </button>
                            </div>
                        </mat-cell>
                    </ng-container>
                  
                    <mat-header-row 
                          *matHeaderRowDef="displayedColumns; sticky: true"
                    ></mat-header-row>
      
                    <mat-row 
                          *matRowDef="let row; columns: displayedColumns;"
                          matRipple
                    ></mat-row>
                </mat-table>
            </div>
                <mat-paginator 
                    #paginator
                    [showFirstLastButtons]="true"
                    [pageSize]="10"
                    [pageSizeOptions]="[10, 20, 30]"
                    aria-label="Select page of periodic elements"
                >
                </mat-paginator>
        </div>       
    </div>
</div>
